<!doctype html>
<html lang="en">
	<head>
		
		<link
			rel="alternate"
			type="application/rss+xml"
			title="RSS"
			href='https://axlefublr.github.io/rss.xml'
		/>
		
		<meta charset="UTF-8">
<meta content="IE=edge" http-equiv="X-UA-Compatible" />
<meta content="text/html; charset=UTF-8" http-equiv="content-type" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
<meta name="robots" content="index, follow">

<title>the journey of noise</title>


<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
  href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=block"
  rel="stylesheet">
<link rel="stylesheet" href="https://axlefublr.github.io/css/style.css" />


	</head>

	<body>
		<div>
<div id="gland">
	<nav>
	
		<a href="https:&#x2F;&#x2F;axlefublr.github.io&#x2F;randomization-sucks&#x2F;" class="preview previous">
			<span class="direction">&lt;-</span>
			<span class="name">randomization sucks</span>
		</a>
	
	<a href=".." class="go-home">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1625 1300" width="30" height="30" fill="#b58cc6">
			<g transform="scale(1,-1) translate(-20,-1290)">
				<path
					d="M1408 544V64q0-26-19-45t-45-19h-384v384H704V0H320q-26 0-45 19t-19 45v480q0 5 1 6l575 474 575-474q1-2 1-6zm223 69l-62-74q-8-9-21-11h-3q-13 0-21 7L832 1112 140 535q-12-8-24-7-13 2-21 11l-62 74q-8 10-7 23.5T37 657l719 599q32 26 76 26t76-26l244-204v195q0 14 9 23t23 9h192q14 0 23-9t9-23V840l219-182q10-8 11-21.5t-7-23.5z" />
			</g>
		</svg>
	</a>
	
		<a href="https:&#x2F;&#x2F;axlefublr.github.io&#x2F;screen-recording&#x2F;" class="preview next">
			<span class="name">wayland screen recording</span>
			<span class="direction">-&gt;</span>
		</a>
	
</nav>

	<div class="marginalizer">
		<div class="minority">
			<header>
				<a href="..">
					<div class="title">the journey of noise</div>
				</a>
				<div class="date">
					<time datetime="2025-03-13">2025.03.13</time>
				</div>
			</header>
			<main>
				<!-- <div class="reading-time">reading time: 19</div> -->
				<p>I'm autistic! Noise affects me more than the average person. I often fantasize about going deaf. <br />
After always having laptops, recently I finally got my first pc! <br />
Little did I know how LOUD it can be...</p>
<p>Let me take you on a journey of how I dealt with the devil that is <strong>noise</strong>.</p>
<h1 id="first-impression"><a class="zola-anchor" href="#first-impression" aria-label="Anchor link for: first-impression">first impression</a></h1>
<p>I plug in the computer and start going through the motions of initial setup. <br />
Despite being distracted by my horrendous monitor (and the following two, before I got my 4th one which is great; but that's a separate story), what was even more clear is how LOUD the fans were.</p>
<p>Thankfully my partner is goated, and thanks to it I know that a "fan curve" is a concept that exists. <br />
You can define the rotation speed for your fans, depending on the current temperature of your cpu. <br />
(That is both wrong and inprecise, keep in mind I'm telling the story as I knew things at the time, I now know more).</p>
<p>You do this configuration in the BIOS. The place you get into by mashing (usually) the <kbd>Delete</kbd> key when rebooting. <br />
As I was looking through the settings, I got surprised at how many more there were, compared to my laptop! No wonder though: with more replaceable parts that you have in a proper computer, there is also more opportunity to configure them all. <br />
But despite the amount of extra settings, I never found the dreamed fan graph.</p>
<p><img src="https://axlefublr.github.io/journey-of-noise/./fan-graph.webp" alt="" /></p>
<p>I was only able to find the overall "modes" that also happened to affect fan speeds: Normal, Turbo, or Silent. <br />
Picking the Slay the Spire character in my bios didn't help make things quiet, though. Both fans were still overwhelmingly loud, at ~1800 rpm.</p>
<p>I removed the exhaust fan, but there isn't that much noise difference between 2 1800rpm fans, and 1 1800rpm fan ‚Äî it's loud as hell regardless.</p>
<p>I know that's it's a "bad idea" or whatever, but what if remove the cpu fan too, and let the heatsink do all the work? I just need it to not <em>over</em>heat for now, so maybe it'll be fine? <br />
I do exactly that and then cautiously stare at the cpu temperature while in bios.</p>
<blockquote>
<p>Sure, the temperature rises, but very slowly! Maybe this will work out?</p>
</blockquote>
<p>Is what I think, but eventually it gets to 70¬∞C. Nope, this is not viable :c</p>
<p>I put my pc to sleep. I can't use it like this, I'll fucking die! <br />
I put off the setup process for when I figure this out.</p>
<h1 id="oh-that-exists"><a class="zola-anchor" href="#oh-that-exists" aria-label="Anchor link for: oh-that-exists">oh that exists?</a></h1>
<p>There are certain expectations I had of a working computer, and a couple of them were broken. <br />
The computer I bought isn't new, but instead made by some cryptomining guy.</p>
<p>First I realize that the pc doesn't have wifi! Wtf! <br />
I went and bought an Ethernet cable (üò≠ it's actually called dog8 üò≠ &lt;- you probably), pathed the snake from the router to my room, and got myself internet. <br />
As a result, my internet is now way faster and more consistent than it used to be before, so I'm happy I did that rather than buy a wifi adapter, but I'm still surprised that missing one was a possibility.</p>
<p>Similarly, there was no bluetooth adapter. Thankfully my headphones (JBL Tune 750BTNC) can also be wired, so fixing that issue wasn't a rush.</p>
<p>Oh and I forgot to mention: the pc didn't come with a power supply plug. Yeah, even something that simple wasn't there.</p>
<p>That's why I got a hunch that the fans were shitty as well. <br />
I go through fans I could buy to replace the existing ones, and notice an interesting metric: minimum rpm. <br />
And then it hit me: my fans' minimum rpm was fucking 1800!!! No wonder they were loud :o</p>
<p>Later on I figured out the extra factor of their shittiness: it's not that their minimum rpm is so high, it's that their rpm isn't <em>controllable</em>: they're missing "PWM". <br />
PWM is a thingy (don't ask me) that lets your motherboard control the speed of your fans. Since my fans weren't PWM, they couldn't change their speed, and <em>that's</em> why they have the 1800 minimum: it's also their maximum!</p>
<p>So I was looking through fans that had a low minimum rpm (I didn't quite get the pwm memo at the time), and noticed that for the most part, 500 was the lowest they went.</p>
<p>Now, aside from product availability differences (I'm in russia üò≠), I <em>was</em> stupid: I didn't just buy a fan, I bought a whole ass cooler. <br />
See, I already have a heat sink on my cpu, and it at least looks very nice and capable. Especially so for my needs, and I imagine the cryptomining guy had higher cooling needs than me. <br />
So instead of buying <em>just</em> a fan, I incorrectly searched and found heatsink + fan combos.</p>
<p>Anyway, I take just the fan part from the combo, after realizing my mistake, and try to attach it to my heatsink. <br />
The heatsink uses these interestingly shaped metal holders that you're supposed to grab onto the fan to hold it in place; my new fan didn't have anything to hold on to, though :c</p>
<p>And here we go üòà <br />
In my classic fashion, I decide to do some redneck engineering, and pull out the zip ties üó£Ô∏èüî•</p>
<p><img src="https://axlefublr.github.io/journey-of-noise/./this-shit-is-so-ass.webp" alt="" /></p>
<p>Blammoing a ziptie around the fan and heatsink to hold them together turned out to be far more effective than I expected! Now <em>this</em> is starting to look like my setup :D</p>
<p>Using <em>just</em> the cpu fan for my entire pc's cooling (aside from gpu's builtin fans) feels assy, but it's something I can at least fix later ‚Äî if this new fan is sufficient for the cpu cooling, then I'm set to actually use my pc comfortably!</p>
<h1 id="comfortably-right"><a class="zola-anchor" href="#comfortably-right" aria-label="Anchor link for: comfortably-right">comfortably, right?</a></h1>
<p>It definitely got quieter! But not exactly <em>silent</em>.</p>
<p>I came back to the bios to see 1200rpm. Didn't expect that last 600 to make such a big difference! <br />
However, this is still not the 500 minimum I was promised. It definitely seems like a configuration issue ü§î.</p>
<p>Remember those bios modes? Normal, Turbo, and Ironclad? <br />
Interestingly, despite <em>everything</em> being in Defect mode, Watcher didn't affect the fans as much as it could: fans also have modes of their own! :o</p>
<p>After setting the fan mode to Silent too, it got down to 900rpm. Another significant improvement, although not as huge of a jump as 1800 -&gt; 1200. <br />
Still, that's no 500! And I'm determined to get it.</p>
<p>There is something even more forcing than Ironclad: <em>Manual</em> mode. <br />
Aha! This must be my motherboard's way of setting the fan graph! <br />
Although, it's not as clear or understandable as your normal fan graph: you don't get a visual representation of how the speed <em>rises</em>, and the wording is confusing, especially to someone who doesn't know how this works prior.</p>
<p>For example, in a normal fan graph, you can make your fans not spin at all (!!) before the cpu reaches 40¬∞C, then start spinning them at 500 before 50¬∞C, then linearly increase their speed until 70¬∞C, and then make a <strong>steep</strong> rise once the temperature reaches more than that.</p>
<p>My motherboard doesn't support such fine grained control. Most cryingly, it doesn't allow my fans to have <em>no</em> rpm under a certain temperature :c</p>
<p>Sure, now that I have literally just a single fan, I <em>should</em> always have <em>some</em> rpm at least, but in the future when I buy better and more fans, kinda sad to be required to always spin them :c</p>
<p>Anyway! The method I have access to is the following:</p>
<ol>
<li>set the maximum temperature, after which the fans spin at maximum speed</li>
<li>what is the maximum speed, in that case?</li>
<li>set the minimum temperature, <em><strong>before</strong></em> which the fans spin at minimum speed</li>
<li>what is the minimum speed?</li>
</ol>
<p>Initially, it's worded more confusingly and it's never mentioned how the rpm changes <em>between</em> the minimum and maximum temperature. My guess is that it's linear, but I don't actually know. A fan graph would make this clear <em>and</em> configurable.</p>
<a href="#temperatures" id="temperatures" class="anchorina">
  <hr></hr>
</a>
<p>I have no clue what temperatures are "good". I never had the ability to optimize fan speed, and so I never had a reason to monitor temperatures. <br />
The information I've been able to find is that "as long as you're under 90, you're fine!" but that's not very helpful! I won't listen because that <em>sounds</em> like awful advice! <br />
Chatgpt told me that 30-50 while idle and 60-70 while under load is a good spot. <br />
But first, trusting an ai on this isn't the brightest idea; even if I do, 30-50 is an awfully big range! And what does "under load" mean? Is watching a youtube video considered "load"?</p>
<p>I asked a more trustworthy robot about this, and turns out setting minimum temperature to even 60¬∞C is fine! :o</p>
<p>That's very good to know, but to be really safe, I put down my minimum temperature to 45¬∞C, and maximum to 60¬∞C, rather than the 30¬∞C minimum I set at first. <br />
Maximum speed to 100% ‚Äî temperature over 60¬∞C should never be reached, and if it is, I'm afraid of it; so a lot of fan noise <em>sometimes</em> is a good deal to help my anxiousness, while having as little as possible fan noise in the general case.</p>
<p>I mentioned that my bios doesn't let me completely stop the fans under a certain temperature. This is because even in manual mode, I cannot set the minimum speed to less than 20% ‚Äî the bios doesn't allow accept the value. So, even under the minimum temperature, the fans will spin at at least 20% capacity. <br />
Which suuuuuucks üò©</p>
<p>The fan is audible, and it really shouldn't be when my temperatures are super fine. I got my desired 500rpm, but it turned out it's not ideal...</p>
<p>In the same store where I couldn't find fans under 500rpm, my partner <em>was</em> able to! She found 200rpm minimum fans :O <br />
I know what my next goal is now üî•üî•üî•</p>
<h1 id="voiding-the-warranty"><a class="zola-anchor" href="#voiding-the-warranty" aria-label="Anchor link for: voiding-the-warranty">voiding the warranty</a></h1>
<p>After some time I was able to purchase that 200rpm fan, and replaced the previous cpu fan with it. <br />
My expectation was to get a completely silent computer, but in reality I only got a marginal benefit.</p>
<p>...How is that possible?</p>
<p>You see, gpus tend to come with abhorrently bad fans. They end up producing the majority of the noise, mostly counteracting your otherwise quiet fans.</p>
<p>Alright, time for more redneck engineering! But far more scary now!</p>
<p>I will remove the plastic container from my gpu, and instead of the fans that come with it, I'll blammo in the previous cpu fan that I have no use for now, by using a zip tie once again.</p>
<p>Sounds like a dangerous idea, right? <br />
At that point in time, I was monstrously exhausted from constant noise, and if suddenly my computer stopped working, I wouldn't even be that anxious about it. I was really really exhausted with the constant overbearing noise that my computer made, so I was willing to take a bigger risk than usual.</p>
<p>I power off, and remove two random wires (I later realized they're connecting to the psu), placing them in a way that would help me remember how to plug them back in. <br />
Then, I remove the gpu from its socket. So far so good.</p>
<p>The first two screws that were holding the plastic together with the rest of the gpu were very easy to reach, but the other two were positioned "inside", where I couldn't reach them normally. <br />
To get to them, I have to unscrew the 4 screws on the bottom of the gpu.</p>
<p>I get to doing exactly that and see a small sticker on one of the screws: "unscrewing voids warranty". <br />
This is a used computer ‚Äî I don't <em>have</em> warranty. Reading it still sent chills down my spine. Ack!</p>
<p>After removing the plastic, I was expecting to see a 4-pin port for the fan. I did see a port, but it was actually <em>5</em>-pin! <br />
As usual I ask chatgpt on advice, and the tldr is "it's fucky, don't bother". <br />
Well shit, how do I cool my gpu now?</p>
<p>The cpu fan is connected to the cpu port. What that actually means, is that the hotter my cpu is, the faster the fan will spin. <br />
Not being able to use the gpu port removes this flexibility for the gpu cooling. <br />
For most of my usage, I can just set the gpu fan to like 700rpm and that'll be fine. But if I open a game, the fan won't react to the much higher load!</p>
<p>To add more flexibility (although still wonky of a solution), I'll plug the gpu fan into the cpu fan port. My reasoning is that if the gpu is getting hotter, the cpu probably is too! The cpu fan will start spinning faster, and so will the gpu fan. Hopefully it's going to be good enough?</p>
<p>To make sure, I made this loop in fish shell, that would play a soundeffect if the gpu's temperature went to or over 75¬∞C, and then started playing Dishonored to test it.</p>
<pre data-lang="fish" class="language-fish z-code"><code class="language-fish" data-lang="fish"><span class="z-source z-shell z-fish"><span class="z-meta z-block z-while z-fish"><span class="z-meta z-function-call z-name z-fish"><span class="z-keyword z-control z-conditional z-fish"><span class="z-meta z-string z-unquoted z-fish">while</span></span></span><span class="z-meta z-function-call z-fish"> </span><span class="z-meta z-function-call z-name z-fish"><span class="z-variable z-function z-fish"><span class="z-meta z-string z-unquoted z-fish">true</span></span></span><span class="z-meta z-function-call z-operator z-control z-fish">
</span></span></span><span class="z-source z-shell z-fish"><span class="z-meta z-block z-while z-fish">  <span class="z-meta z-function-call z-name z-fish"><span class="z-variable z-function z-fish"><span class="z-meta z-string z-unquoted z-fish">test</span></span></span><span class="z-meta z-function-call z-fish"> </span><span class="z-meta z-function-call z-parameter z-argument z-fish"><span class="z-meta z-parens z-command-substitution z-fish"><span class="z-punctuation z-section z-parens z-begin z-fish">(</span><span class="z-meta z-function-call z-name z-fish"><span class="z-variable z-function z-fish"><span class="z-meta z-string z-unquoted z-fish">cat</span></span></span><span class="z-meta z-function-call z-fish"> </span><span class="z-meta z-function-call z-parameter z-argument z-path z-fish"><span class="z-meta z-string z-unquoted z-fish">/sys/devices/pci0000:00/0000:00:01.0/0000:01:00.0/hwmon/hwmon4/temp1_input</span></span><span class="z-punctuation z-section z-parens z-end z-fish">)</span></span></span><span class="z-meta z-function-call z-fish"> </span><span class="z-meta z-function-call z-parameter z-option z-short z-fish"><span class="z-variable z-parameter z-fish"><span class="z-punctuation z-definition z-option z-short z-fish"><span class="z-meta z-string z-unquoted z-fish">-</span></span><span class="z-meta z-string z-unquoted z-fish">ge</span></span></span><span class="z-meta z-function-call z-fish"> </span><span class="z-meta z-function-call z-parameter z-argument z-numeric z-fish"><span class="z-meta z-string z-unquoted z-fish"><span class="z-constant z-numeric z-fish">75000</span></span></span><span class="z-meta z-function-call z-fish"> </span><span class="z-meta z-function-call z-operator z-control z-fish"><span class="z-keyword z-operator z-control z-double-ampersand z-fish">&amp;&amp;</span></span><span class="z-meta z-function-call z-fish"> </span><span class="z-meta z-function-call z-name z-fish"><span class="z-variable z-function z-fish"><span class="z-meta z-string z-unquoted z-fish">paplay</span></span></span><span class="z-meta z-function-call z-fish"> </span><span class="z-meta z-function-call z-parameter z-argument z-path z-fish"><span class="z-meta z-string z-unquoted z-fish"><span class="z-keyword z-operator z-tilde z-fish">~</span></span><span class="z-meta z-string z-unquoted z-fish">/m/soundeffects/camera-shutter.oga</span></span><span class="z-meta z-function-call z-operator z-control z-fish">
</span></span></span><span class="z-source z-shell z-fish"><span class="z-meta z-block z-while z-fish">  <span class="z-meta z-function-call z-name z-fish"><span class="z-variable z-function z-fish"><span class="z-meta z-string z-unquoted z-fish">sleep</span></span></span><span class="z-meta z-function-call z-fish"> </span><span class="z-meta z-function-call z-parameter z-argument z-numeric z-fish"><span class="z-meta z-string z-unquoted z-fish"><span class="z-constant z-numeric z-fish">10</span></span></span><span class="z-meta z-function-call z-operator z-control z-fish">
</span></span></span><span class="z-source z-shell z-fish"><span class="z-meta z-block z-while z-fish"><span class="z-meta z-function-call z-name z-fish"><span class="z-keyword z-control z-conditional z-fish"><span class="z-meta z-string z-unquoted z-fish">end</span></span></span></span><span class="z-meta z-function-call z-operator z-control z-fish">
</span></span></code></pre>
<p>Fascinatingly, I never heard the sound effect, in even 30 minutes of playtime! So it seems like this cooling setup is good enough :D</p>
<h1 id="but-not-forever"><a class="zola-anchor" href="#but-not-forever" aria-label="Anchor link for: but-not-forever">but not forever</a></h1>
<p>While this works, I feel it would be both dangerous and stupid to leave it be like this till the end of time. <br />
After all, the gpu used to have <em>two</em> fans (although smaller), and now I only have one. <br />
To make sure that the cooling is good enough, I think it's a good idea to <em>over</em>cool the gpu, so that even in the worst case scenario (only gpu heats up but not cpu) it's not going to overheat.</p>
<p>Some time later I bought another 200rpm fan, and replaced the 500 one with it. <br />
Just to test! Before I'd eventually add back the 500rpm fan. <br />
But I ended up noticing a very interesting effect! For the first time ever, my fans started spinning <em>slower</em> than 500rpm! :o</p>
<p>It turns out that the 500rpm fan, because of its minimum, was <em>speeding up</em> the other, 200rpm fans. <br />
Also, after removing the 500rpm fan, things got significantly quieter! <br />
It turns out that most of the noise was coming from not from the rpm specifically, but from the 500rpm fan being <em>smaller</em> and <em>shitter</em>.</p>
<p>I later learnt that the bigger the fan is, the quieter it is while transporting the same volume of air. <br />
The smaller fan was both trying harder, <em>and</em> doing a poorer job! <br />
I got to confirm that after testing my temperatures again, with <em>only</em> the new bigger fan, and saw that my temperatures were <em>lower</em>! <br />
Matter of fact, surprisingly significantly lower! At this point I don't <em>need</em> the previous fan at all!</p>
<h1 id="physical-equality"><a class="zola-anchor" href="#physical-equality" aria-label="Anchor link for: physical-equality">physical equality</a></h1>
<p>At the time of me writing this blog post, I do still only have the two 200rpm fans. I plan to buy two more: one exhaust fan, and one intake fan. <br />
However, I found something on the <em>software</em> side that let me eliminate the gpu temperature flexibility worry <em>completely</em>.</p>
<p><code>fancontrol</code>. <br />
A program you can run as a service, that changes your fans' speeds depending on the temperature.</p>
<p>I actually knew about it way at the start of the pc journey, but I couldn't get it to <em>work</em>. <br />
And my thought process was that even if I <em>did</em> get it to work, it wouldn't allow me to have no rpm anyway, since in my head it was my motherboard that completely didn't allow that to happen.</p>
<p>Thankfully, I was very wrong! But god, was it a spiky path to set it up. Even now, I'm not <em>exactly</em> sure of all the steps I took to make it work, but here are the basic ones (on arch):</p>
<p>Install <code>lm_sensors</code> and run <code>sudo sensors-detect</code>. <br />
This will allow you to run <code>sensors</code>: a neat program that shows you various information about your system. Here's my output:</p>
<pre class="z-code"><code><span class="z-text z-plain">amdgpu-pci-0100
</span><span class="z-text z-plain">Adapter: PCI adapter
</span><span class="z-text z-plain">fan1:             N/A
</span><span class="z-text z-plain">edge:         +39.0¬∞C  (crit = +120.0¬∞C, hyst = +90.0¬∞C)
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">coretemp-isa-0000
</span><span class="z-text z-plain">Adapter: ISA adapter
</span><span class="z-text z-plain">Package id 0:  +41.0¬∞C  (high = +80.0¬∞C, crit = +100.0¬∞C)
</span><span class="z-text z-plain">Core 0:        +39.0¬∞C  (high = +80.0¬∞C, crit = +100.0¬∞C)
</span><span class="z-text z-plain">Core 1:        +40.0¬∞C  (high = +80.0¬∞C, crit = +100.0¬∞C)
</span><span class="z-text z-plain">Core 2:        +40.0¬∞C  (high = +80.0¬∞C, crit = +100.0¬∞C)
</span><span class="z-text z-plain">Core 3:        +37.0¬∞C  (high = +80.0¬∞C, crit = +100.0¬∞C)
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">acpitz-acpi-0
</span><span class="z-text z-plain">Adapter: ACPI interface
</span><span class="z-text z-plain">temp1:        +27.8¬∞C
</span><span class="z-text z-plain">temp2:        +29.8¬∞C
</span><span class="z-text z-plain">
</span><span class="z-text z-plain">nct6791-isa-0290
</span><span class="z-text z-plain">Adapter: ISA adapter
</span><span class="z-text z-plain">Vcore:                 888.00 mV (min =  +0.00 V, max =  +1.74 V)
</span><span class="z-text z-plain">in1:                     1.03 V  (min =  +0.00 V, max =  +0.00 V)  ALARM
</span><span class="z-text z-plain">AVCC:                    3.33 V  (min =  +2.98 V, max =  +3.63 V)
</span><span class="z-text z-plain">+3.3V:                   3.33 V  (min =  +2.98 V, max =  +3.63 V)
</span><span class="z-text z-plain">in4:                   1000.00 mV (min =  +0.00 V, max =  +0.00 V)  ALARM
</span><span class="z-text z-plain">in5:                     2.02 V  (min =  +0.00 V, max =  +0.00 V)  ALARM
</span><span class="z-text z-plain">in6:                   808.00 mV (min =  +0.00 V, max =  +0.00 V)  ALARM
</span><span class="z-text z-plain">3VSB:                    3.41 V  (min =  +2.98 V, max =  +3.63 V)
</span><span class="z-text z-plain">Vbat:                    3.28 V  (min =  +2.70 V, max =  +3.63 V)
</span><span class="z-text z-plain">in9:                     1.02 V  (min =  +0.00 V, max =  +0.00 V)  ALARM
</span><span class="z-text z-plain">in10:                  224.00 mV (min =  +0.00 V, max =  +0.00 V)  ALARM
</span><span class="z-text z-plain">in11:                  184.00 mV (min =  +0.00 V, max =  +0.00 V)  ALARM
</span><span class="z-text z-plain">in12:                  1000.00 mV (min =  +0.00 V, max =  +0.00 V)  ALARM
</span><span class="z-text z-plain">in13:                    1.03 V  (min =  +0.00 V, max =  +0.00 V)  ALARM
</span><span class="z-text z-plain">in14:                  232.00 mV (min =  +0.00 V, max =  +0.00 V)  ALARM
</span><span class="z-text z-plain">fan1:                   793 RPM  (min =    0 RPM)
</span><span class="z-text z-plain">fan2:                   818 RPM  (min =    0 RPM)
</span><span class="z-text z-plain">SYSTIN:                  +8.0¬∞C  (high =  +0.0¬∞C, hyst =  +0.0¬∞C)  ALARM  sensor = thermistor
</span><span class="z-text z-plain">CPUTIN:                 +37.5¬∞C  (high = +80.0¬∞C, hyst = +75.0¬∞C)  sensor = thermistor
</span><span class="z-text z-plain">AUXTIN0:                +36.5¬∞C    sensor = thermistor
</span><span class="z-text z-plain">AUXTIN1:               +101.0¬∞C    sensor = thermistor
</span><span class="z-text z-plain">AUXTIN2:                +99.0¬∞C    sensor = thermistor
</span><span class="z-text z-plain">AUXTIN3:               +101.0¬∞C    sensor = thermistor
</span><span class="z-text z-plain">PECI Agent 0:           +37.0¬∞C
</span><span class="z-text z-plain">PCH_CHIP_CPU_MAX_TEMP:   +0.0¬∞C
</span><span class="z-text z-plain">PCH_CHIP_TEMP:           +0.0¬∞C
</span><span class="z-text z-plain">PCH_CPU_TEMP:            +0.0¬∞C
</span><span class="z-text z-plain">PCH_MCH_TEMP:            +0.0¬∞C
</span><span class="z-text z-plain">PCH_DIM0_TEMP:           +0.0¬∞C
</span><span class="z-text z-plain">intrusion0:            ALARM
</span><span class="z-text z-plain">intrusion1:            ALARM
</span><span class="z-text z-plain">beep_enable:           disabled
</span></code></pre>
<p>Most things are either invalid or useless, but some values are actually of use to us.</p>
<p>Under <code>amdgpu-pci-0100</code>, we see that my gpu likes edging, but it's not very hot because of that yet. You probably have a different gpu than me, so you'll likely see a different section name, but should be able to find it pretty easily. I assume it'll have <code>gpu</code> in its name still. <br />
<code>coretemp-isa-0000</code> is the temperature of the actual cpu. But according to chatgpt (lol), you're not meant to use that temperature reading for cooling purposes, and should instead consider <code>CPUTIN</code>. <br />
Right next to it, we also see <code>fan1</code> and <code>fan2</code>, with their speeds in rpm. <br />
<code>sensors</code> is how I did all of my temperature testing throughout this blog post.</p>
<p>All the values here are actually read from device (?) files, so if you run <code>sensors -j</code>, you'll be able to find those paths, to be used in your waybar, and more importantly to find out the correct temperature paths for our next step.</p>
<p>Now that you have the sensors working, you should run <code>sudo pwmconfig</code>. <br />
It moves you through a series of questions to generate the config file that <code>fancontrol</code> will use.</p>
<p>Go through it one or maybe even more times, to get familiar with what it can even ask you. Because <code>pwmconfig</code> <em>just</em> generates a config file, it is absolutely safe to fuck up in this step, as we haven't started <code>fancontrol</code> yet, haven't reloaded it to the new generated config, and we're going to manually edit the config after generating it anyway.</p>
<p>The main concept of fancontrol, is that you decide which temperature sensor is the controlling one. <br />
"The higher the temperature is in x, the faster you should spin the y fan.". And you get to decide all the xes and the yes.</p>
<p>As I mentioned above, we can figure out the relevant temperature paths thanks to <code>sensors -j</code>, but how do we figure out which <em>fan</em> is which? <br />
That's where the pwmconfig process is handy: while it's testing your fans' pwm-ness, it will speed them up and stop them. Look inside of your case to figure out which fan path refers to which fan. Kinda crude I know, but that's how I figured it out.</p>
<h1 id="config"><a class="zola-anchor" href="#config" aria-label="Anchor link for: config">config</a></h1>
<p>After going through the process, you now have a generated config file in <code>/etc/fancontrol</code>. In theory. <br />
Yours will look different from mine, as I manually edited it after <em>and</em> we have different paths for everything. But I'll explain the idea of what everything is so that you can feel more comfortable with using pwmconfig and manually editing the config in the future.</p>
<pre data-lang="ini" class="language-ini z-code"><code class="language-ini" data-lang="ini"><span class="z-source z-genconfig"><span class="z-meta z-comment z-genconfig"><span class="z-comment z-line z-number-sign z-genconfig"># Configuration file generated by pwmconfig, changes will be lost
</span></span></span><span class="z-source z-genconfig"><span class="z-support z-constant z-genconfig">INTERVAL</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-constant z-numeric z-genconfig">10</span>
</span><span class="z-source z-genconfig"><span class="z-support z-constant z-genconfig">DEVPATH</span><span class="z-keyword z-operator z-genconfig">=</span>hwmon3<span class="z-keyword z-operator z-genconfig">=</span>devices<span class="z-keyword z-operator z-genconfig">/</span>platform<span class="z-keyword z-operator z-genconfig">/</span>nct6775<span class="z-keyword z-operator z-genconfig">.</span><span class="z-constant z-numeric z-genconfig">656</span> hwmon4<span class="z-keyword z-operator z-genconfig">=</span><span class="z-support z-type z-genconfig">devices/pci0000</span><span class="z-keyword z-operator z-genconfig">:</span><span class="z-constant z-numeric z-genconfig">00</span><span class="z-keyword z-operator z-genconfig">/</span><span class="z-constant z-numeric z-genconfig">0000</span><span class="z-keyword z-operator z-genconfig">:</span><span class="z-constant z-numeric z-genconfig">00</span><span class="z-keyword z-operator z-genconfig">:</span><span class="z-constant z-numeric z-genconfig">01</span><span class="z-keyword z-operator z-genconfig">.</span><span class="z-constant z-numeric z-genconfig">0</span><span class="z-keyword z-operator z-genconfig">/</span><span class="z-constant z-numeric z-genconfig">0000</span><span class="z-keyword z-operator z-genconfig">:</span><span class="z-constant z-numeric z-genconfig">01</span><span class="z-keyword z-operator z-genconfig">:</span><span class="z-constant z-numeric z-genconfig">00</span><span class="z-keyword z-operator z-genconfig">.</span><span class="z-constant z-numeric z-genconfig">0</span>
</span><span class="z-source z-genconfig"><span class="z-support z-constant z-genconfig">DEVNAME</span><span class="z-keyword z-operator z-genconfig">=</span>hwmon3<span class="z-keyword z-operator z-genconfig">=</span>nct6791 hwmon4<span class="z-keyword z-operator z-genconfig">=</span>amdgpu
</span><span class="z-source z-genconfig"><span class="z-support z-constant z-genconfig">FCTEMPS</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-support z-type z-genconfig">hwmon3/pwm2</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-support z-type z-genconfig">hwmon3/temp2_input</span> <span class="z-support z-type z-genconfig">hwmon3/pwm1</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-support z-type z-genconfig">hwmon4/temp1_input</span>
</span><span class="z-source z-genconfig"><span class="z-support z-constant z-genconfig">FCFANS</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-support z-type z-genconfig">hwmon3/pwm2</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-support z-type z-genconfig">hwmon3/fan2_input</span> <span class="z-support z-type z-genconfig">hwmon3/pwm1</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-support z-type z-genconfig">hwmon3/fan1_input</span>
</span><span class="z-source z-genconfig"><span class="z-support z-constant z-genconfig">MINTEMP</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-support z-type z-genconfig">hwmon3/pwm2</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-constant z-numeric z-genconfig">45</span> <span class="z-support z-type z-genconfig">hwmon3/pwm1</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-constant z-numeric z-genconfig">45</span>
</span><span class="z-source z-genconfig"><span class="z-support z-constant z-genconfig">MAXTEMP</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-support z-type z-genconfig">hwmon3/pwm2</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-constant z-numeric z-genconfig">70</span> <span class="z-support z-type z-genconfig">hwmon3/pwm1</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-constant z-numeric z-genconfig">70</span>
</span><span class="z-source z-genconfig"><span class="z-support z-constant z-genconfig">MINSTART</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-support z-type z-genconfig">hwmon3/pwm2</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-constant z-numeric z-genconfig">80</span> <span class="z-support z-type z-genconfig">hwmon3/pwm1</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-constant z-numeric z-genconfig">100</span>
</span><span class="z-source z-genconfig"><span class="z-support z-constant z-genconfig">MINSTOP</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-support z-type z-genconfig">hwmon3/pwm2</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-constant z-numeric z-genconfig">80</span> <span class="z-support z-type z-genconfig">hwmon3/pwm1</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-constant z-numeric z-genconfig">100</span>
</span><span class="z-source z-genconfig"><span class="z-support z-constant z-genconfig">MINPWM</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-support z-type z-genconfig">hwmon3/pwm2</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-constant z-numeric z-genconfig">80</span> <span class="z-support z-type z-genconfig">hwmon3/pwm1</span><span class="z-keyword z-operator z-genconfig">=</span><span class="z-constant z-numeric z-genconfig">100</span>
</span></code></pre>
<p>I wouldn't touch the first 3 lines. <br />
<code>FCTEMPS</code> is the main juice of fancontrol: which pwm controller (and consequently which fans) to speed up in relation to which temperature. <br />
I mentioned that <code>fancontrol</code> is what completely solved my cooling wackness: this is because now the gpu fan is plugged into the chassis port, and depends on the temperature of the gpu (<code>hwmon4/temp1_input</code>). <br />
Even though the port is absolutely not the gpu's port, I control its speed via the gpu's temperature! Isn't that nice :3 \</p>
<p><code>FCFANS</code> is which pwm controller controlls which fan. <code>pwmconfig</code> should've configured this correctly; I haven't touched this option myself.</p>
<p>If your thingy is lower than <code>MINTEMP</code> in temperature, its correlated fan will spin at <code>MINPWM</code> of speed. If you don't specify <code>MINPWM</code>, it defaults to 0, meaning it completely stops your fans!! :D</p>
<p>If your thingy is higher than <code>MAXTEMP</code> in temperature, its correlated fan will spin at <code>MAXPWM</code> of speed, which defaults to 255 (the maximum speed).</p>
<p><code>MINSTART</code> is meant to be the minumum PWM value at which your fans <em>start</em> spinning, and <code>MINSTOP</code> is meant to be the maximum PWM value at which your fans are still NOT spinning. <br />
However, fancontrol for some reason will add extra 20 to your specified <code>MINSTART</code> value, for stability I think? Kinda weird.</p>
<p>At first I enjoyed the expected setup where the fans don't spin up until a certain temperature <em>at all</em>, and then start ramping up. <br />
It was so (comparatively) quiet, in fact, that I decided to change my setup to be "louder"!</p>
<p>Having my ear right next to the case makes me hear the fan <em>faintly</em>, when it's spinning at 800rpm. <br />
My pc is placed on the floor, hiding behind the right side of my table ‚Äî in other words, it's impossible for me to hear that level of noise. <br />
And that's why I set <code>MINSTART</code>, <code>MINSTOP</code>, <code>MINPWM</code> all to the same values per fan controller: I want the fans to spin at <em>at least</em> 800rpm at their minimum, but ramp up after 45¬∞C. <br />
This way, I keep my system at 39¬∞C for the gpu and 37¬∞C for the cpu under normal circumstances, with no noise downside. <br />
In the future when I get two extra fans, those temperatures are likely going to be even better! :D <br />
Although keep in mind they are already wonderful temperatures.</p>
<p>After getting the config to your preferred state, simply <code>systemctl enable --now fancontrol.service</code> and it should work! <br />
<code>fancontrol</code> sometimes breaks after reboots and suspending (sleeping), so make yourself an alias to <code>systemctl restart fancontrol.service</code> to fix those cases. <br />
Although in my current venture of learning how to use systemd deeper, I might just fix the <code>.service</code> file to do this automatically for me.</p>
<h1 id="next-enemy"><a class="zola-anchor" href="#next-enemy" aria-label="Anchor link for: next-enemy">next enemy</a></h1>
<p>With all this configuration and fan minmaxing, fans are officially <strong>not</strong> a problem anymore ü•≥</p>
<p>However, my pc is still too noisy!</p>
<p>I never considered it, but now it's actually my PSU that's making the most noise! So, except the two extra fans, my next pc upgrade will definitely be a PSU upgrade. However it's pretty pricy üò¨ so that's probably not going to be soon.</p>
<p>Aside from that, I've had a constant hum over the course of <em>months</em>; I think my neighbors are cryptomining. <br />
I went through quite a lot of struggles in minmaxing that noise as well, which I've omitted here, but you can imagine how it added salt into the already loud scenario.</p>
<p>Throughout all this time I've started using earplugs WAY more often, to the point that now I have to minmax how long I use them to not damage my ears. <br />
I bought passive noise cancelling headphones to help with that, but they're a bit shit. <br />
I bought <em>active</em> noise cancelling headphones as well, but they turned out to be very overwhelming :c and so I returned them.</p>
<p>I would love to move, to solve the currently unsolvable problem of my neighbors being shitty :p</p>

			</main>
		</div>
	</div>
	<section class="promo-holder">
	<a class="promo" target="_blank" id="bluesky" href="https://bsky.app/profile/axlefublr.bsky.social">Bluesky</a>
	<a class="promo" target="_blank" id="github" href="https://github.com/Axlefublr">Github</a>
	<a class="promo" target="_blank" id="discord" title="Alternatively, dm me @Axlefublr" href="https://discord.gg/bgVSg362dK">Discord server</a>
	<a class="promo" target="_blank" id="email" href="mailto:axlefublr.ls@gmail.com">Email</a>
	<a class="promo" target="_blank" id="rss" href="/rss.xml">RSS</a>
</section>

	<nav>
	
		<a href="https:&#x2F;&#x2F;axlefublr.github.io&#x2F;randomization-sucks&#x2F;" class="preview previous">
			<span class="direction">&lt;-</span>
			<span class="name">randomization sucks</span>
		</a>
	
	<a href=".." class="go-home">
		<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1625 1300" width="30" height="30" fill="#b58cc6">
			<g transform="scale(1,-1) translate(-20,-1290)">
				<path
					d="M1408 544V64q0-26-19-45t-45-19h-384v384H704V0H320q-26 0-45 19t-19 45v480q0 5 1 6l575 474 575-474q1-2 1-6zm223 69l-62-74q-8-9-21-11h-3q-13 0-21 7L832 1112 140 535q-12-8-24-7-13 2-21 11l-62 74q-8 10-7 23.5T37 657l719 599q32 26 76 26t76-26l244-204v195q0 14 9 23t23 9h192q14 0 23-9t9-23V840l219-182q10-8 11-21.5t-7-23.5z" />
			</g>
		</svg>
	</a>
	
		<a href="https:&#x2F;&#x2F;axlefublr.github.io&#x2F;screen-recording&#x2F;" class="preview next">
			<span class="name">wayland screen recording</span>
			<span class="direction">-&gt;</span>
		</a>
	
</nav>

	<footer id="bottom"></footer>
</div>
</div>
	</body>
</html>
